KCPSM6 Assembler log file for program 'E:\KITCODE\sp6_lpddr_v1\pico_ddr_bram_ftdififo\pico_code\PICO_CODE.psm'.
Generated by KCPSM6 version v2.70
Ken Chapman - Xilinx Ltd - 16th May 2014

Assembly datestamp: 30 Jul 2020
Assembly timestamp: 01:28:45

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 10D hex
Nominal program memory size: 1K (1024)   address(9:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 270
Memory locations available: 3826


Assembly listing

 Addr Code                     Instruction

 000                           ;NAMEREG S1,
 000                           ;NAMEREG S2,HH
 000                           ;NAMEREG S3,TOGL_REG
 000                           NAMEREG s0, REG1
 000                           NAMEREG s1, REG2
 000                           NAMEREG s2, DDATA
 000                           NAMEREG s3, REG
 000                           NAMEREG s4, REG4
 000                           NAMEREG s5, TEMP
 000                           NAMEREG s6, DATA
 000                           NAMEREG s7, CNTR1
 000                           NAMEREG s8, CNTR2
 000                           NAMEREG s9, SPI_REG
 000                           NAMEREG sA, ADDR1                         ; LSB ADDRES
 000                           NAMEREG sB, ADDR2
 000                           NAMEREG sC, ADDR3
 000                           ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 000                           ;--------------------------------------------------
 000                           CONSTANT RX_DT_RDY, 02                    ;////// INPUT
 000                           CONSTANT RX_DATA, 03                      ;////// INPUT
 000                           CONSTANT LED, 01
 000                           CONSTANT TX_DATA, 02
 000                           CONSTANT TX_STB, 03
 000                           CONSTANT RD_PULSE, 04
 000                           ;//USB
 000                           CONSTANT USB_DATA_OUT, 0B                 ;;DSOUT     2
 000                           CONSTANT USB_DATA_IN, 02                  ;;DSIN      1
 000                           CONSTANT USB_RD_WR, 0A                    ;;DSOUT     3
 000                           CONSTANT usb_rxf, 04                      ;;DSIN      3
 000                           CONSTANT usb_txe, 03                      ;;DSIN      2
 000                           CONSTANT usb_rd, 0C                       ;;DSOUT     1
 000                           CONSTANT usb_wr, 09                       ;;DSOUT     4
 000                           ;// BRAM
 000                           CONSTANT BRAM_DATA_IN, 05                 ;;DSIN      1
 000                           CONSTANT BRAM_W, 08                       ;;DSOUT     1
 000                           CONSTANT BRAM_ADR_70, 06                  ;;DSOUT     1
 000                           CONSTANT BRAM_ADR_158, 07                 ;;DSOUT
 000                           CONSTANT BRAM_DATA_OUT, 05                ;;DSOUT
 000                           ;//////////ddr write
 000                           CONSTANT DDR_DATA_W_31_24, 13'd           ;;DSOUT
 000                           CONSTANT DDR_DATA_W_23_16, 14'd           ;;DSOUT
 000                           CONSTANT DDR_DATA_W_15_8, 15'd            ;;DSOUT
 000                           CONSTANT DDR_DATA_W_7_0, 16'd             ;;DSOUT
 000                           CONSTANT CMD_WR_PLS, 17'd                 ;;DSOUT
 000                           CONSTANT WR_EN_PLS, 18'd                  ;;DSOUT
 000                           CONSTANT WR_RD_CMD, 19'd                  ;;DSOUT  ;;;0 for write 1 for read
 000                           ;//////////ddr_read
 000                           CONSTANT DDR_DATA_R_31_24, 06'd           ;;DSIN
 000                           CONSTANT DDR_DATA_R_23_16, 07'd           ;;DSIN
 000                           CONSTANT DDR_DATA_R_15_8, 08'd            ;;DSIN
 000                           CONSTANT DDR_DATA_R_7_0, 09'd             ;;DSIN
 000                           CONSTANT READ_EMPTY, 12'd                 ;;DSIN
 000                           CONSTANT DDR_ADDRESS_INC_PLS, 21'd        ;;DSOUT
 000                           CONSTANT RD_EN_PLS, 22'd                  ;;DSOUT
 000                           CONSTANT DDR_ADDRESS_RESET_W, 23'd        ;;DSOUT
 000                           CONSTANT DDR_ADDRESS_RESET_R, 23'd        ;;DSOUT
 000                           ;*************************
 000                           ;; SCRATCHPAD MEMORY
 000                           ;*************************
 000                           ;;;;;;Register interface
 000                           CONSTANT USER_REGADDR_15_8, 25'd          ;;DSOUT
 000                           CONSTANT USER_REGADDR_7_0, 26'd           ;;DSOUT
 000                           CONSTANT USER_REGDATAOUT, 27'd            ;;DSOUT
 000                           CONSTANT USER_REGWE, 8'd                  ;;DSOUT
 000                           CONSTANT USER_REGRE, 20'd                 ;;DSOUT
 000                           CONSTANT USER_REGDATAIN, 13'd             ;;DSIN
 000                           ;;;;;;;;;;;;
 000                           CONSTANT USER_READ_START, 4'd             ;;DSOUT
 000                           CONSTANT USER_DDR_DATA1, 1'd              ;;DSIN
 000                           CONSTANT USER_DDR_DATA2, 0'd              ;;DSIN
 000                           CONSTANT USER_DDR_DATA3, 15'd             ;;DSIN
 000                           CONSTANT USER_DDR_DATA4, 14'd             ;;DSIN
 000                           CONSTANT USER_DDR_DATA5, 17'd             ;;DSIN
 000                           CONSTANT USER_DDR_DATA6, 18'd             ;;DSIN
 000                           CONSTANT USER_DDR_DATA7, 19'd             ;;DSIN
 000                           CONSTANT USER_DDR_DATA8, 21'd             ;;DSIN
 000                           CONSTANT UR_DATA_RAM, 01
 000                           CONSTANT DDR_BRAM, 02
 000                           CONSTANT CMD_WR_RD, 03
 000                           CONSTANT ST_ADD_1, 04
 000                           CONSTANT ST_ADD_2, 05
 000                           CONSTANT N_OF_BYTE1, 06
 000                           CONSTANT N_OF_BYTE2, 07
 000                           CONSTANT BT_CNT1, 08
 000                           CONSTANT BT_CNT2, 09
 000                           CONSTANT BUFF_AD1, 0A
 000                           CONSTANT BUFF_AD2, 0B
 000                           ;CONSTANT UR_DATA_RAM,01
 000                           ;CONSTANT UR_DATA_RAM,01
 000                           ;CONSTANT UR_DATA_RAM,01
 000                           CONSTANT DELL1, 36
 000                           CONSTANT DELL2, 37
 000                           CONSTANT DELL3, 38
 000                           CONSTANT DELL4, 39
 000                           CONSTANT DELL5, 3A
 000                           CONSTANT DELL6, 3B
 000                           ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 000                           CONSTANT RDID_9F, 9F
 000                           CONSTANT WREN_06, 06
 000                           CONSTANT PP_02, 02
 000                           CONSTANT READ_03, 03
 000                           CONSTANT RDSR_05, 05
 000                           CONSTANT SE_D8, D8
 000                           CONSTANT WRSR_01, 01
 000                           CONSTANT BE_C7, C7
 000                           CONSTANT DELAY_1US_CONSTANT, 0B           ;CONSTANT VALUE FOR DELAY RUTNS
 000  20087                    CALL 087[send_one_bt_usb]
 001                TEST_USER: 
 001  012FF                    LOAD s2[DDATA], FF
 002  2D204                    OUTPUT s2[DDATA], 04[USER_READ_START]
 003  01200                    LOAD s2[DDATA], 00
 004  2D204                    OUTPUT s2[DDATA], 04[USER_READ_START]
 005  09201                    INPUT s2[DDATA], 01[USER_DDR_DATA1]
 006  20087                    CALL 087[send_one_bt_usb]
 007  09200                    INPUT s2[DDATA], 00[USER_DDR_DATA2]
 008  20087                    CALL 087[send_one_bt_usb]
 009  0920F                    INPUT s2[DDATA], 0F[USER_DDR_DATA3]
 00A  20087                    CALL 087[send_one_bt_usb]
 00B  0920E                    INPUT s2[DDATA], 0E[USER_DDR_DATA4]
 00C  20087                    CALL 087[send_one_bt_usb]
 00D  09211                    INPUT s2[DDATA], 11[USER_DDR_DATA5]
 00E  20087                    CALL 087[send_one_bt_usb]
 00F  09212                    INPUT s2[DDATA], 12[USER_DDR_DATA6]
 010  20087                    CALL 087[send_one_bt_usb]
 011  09213                    INPUT s2[DDATA], 13[USER_DDR_DATA7]
 012  20087                    CALL 087[send_one_bt_usb]
 013  09215                    INPUT s2[DDATA], 15[USER_DDR_DATA8]
 014  20087                    CALL 087[send_one_bt_usb]
 015  22001                    JUMP 001[TEST_USER]
 016                           ;$ G 12 04 R/W # DATA
 016              CHECK_FRAME: ;$ D/B 12 34 R/W #** DATA
 016  20096                    CALL 096[take_data_in_usb]
 017  1D224                    COMPARE s2[DDATA], 24["$"]
 018  36016                    JUMP NZ, 016[CHECK_FRAME]
 019  20096                    CALL 096[take_data_in_usb]
 01A  2F202                    STORE s2[DDATA], 02[DDR_BRAM]
 01B  20096                    CALL 096[take_data_in_usb]                ;START ADDR1
 01C  2F205                    STORE s2[DDATA], 05[ST_ADD_2]
 01D  20096                    CALL 096[take_data_in_usb]                ;START ADDR2
 01E  2F204                    STORE s2[DDATA], 04[ST_ADD_1]
 01F  20096                    CALL 096[take_data_in_usb]                ;NO OF BYTES1
 020  2F207                    STORE s2[DDATA], 07[N_OF_BYTE2]
 021  20096                    CALL 096[take_data_in_usb]                ;;NO OF BYTES2;;;;;7 TO 0
 022  2F206                    STORE s2[DDATA], 06[N_OF_BYTE1]
 023  20096                    CALL 096[take_data_in_usb]
 024  2F203                    STORE s2[DDATA], 03[CMD_WR_RD]
 025  20096                    CALL 096[take_data_in_usb]
 026  1D223                    COMPARE s2[DDATA], 23["#"]
 027  36016                    JUMP NZ, 016[CHECK_FRAME]
 028                    START: 
 028  0B202                    FETCH s2[DDATA], 02[DDR_BRAM]
 029  1D247                    COMPARE s2[DDATA], 47["G"]
 02A  320D4                    JUMP Z, 0D4[REG_CONTROL]
 02B  0B203                    FETCH s2[DDATA], 03[CMD_WR_RD]
 02C  1D252                    COMPARE s2[DDATA], 52["R"]
 02D  30053                    CALL Z, 053[RD_DDR_RAM]
 02E  1D257                    COMPARE s2[DDATA], 57["W"]
 02F  30033                    CALL Z, 033[WR_DDR_RAM]
 030  22016                    JUMP 016[CHECK_FRAME]
 031                           ;
 031  22016                    JUMP 016[CHECK_FRAME]
 032  22032              HJGF: JUMP 032[HJGF]
 033               WR_DDR_RAM: 
 033  2D017                    OUTPUT s0[REG1], 17[DDR_ADDRESS_RESET_W]
 034  0B004                    FETCH s0[REG1], 04[ST_ADD_1]
 035  2F00A                    STORE s0[REG1], 0A[BUFF_AD1]
 036  0B005                    FETCH s0[REG1], 05[ST_ADD_2]
 037  2F00B                    STORE s0[REG1], 0B[BUFF_AD2]
 038  01000                    LOAD s0[REG1], 00
 039  2F008                    STORE s0[REG1], 08[BT_CNT1]
 03A  2F009                    STORE s0[REG1], 09[BT_CNT2]
 03B             TAKE_NXT_BYT: 
 03B  0B202                    FETCH s2[DDATA], 02[DDR_BRAM]
 03C  1D244                    COMPARE s2[DDATA], 44["D"]
 03D  32042                    JUMP Z, 042[WR_DDR]
 03E  0B202                    FETCH s2[DDATA], 02[DDR_BRAM]
 03F  1D242                    COMPARE s2[DDATA], 42["B"]
 040  32044                    JUMP Z, 044[WR_BRAM]
 041  25000                    RETURN 
 042                   WR_DDR: 
 042  200B6                    CALL 0B6[WRITE_1_WORD_DDR]
 043  22046                    JUMP 046[NXT_LOOP]
 044                  WR_BRAM: 
 044  20096                    CALL 096[take_data_in_usb]
 045  20074                    CALL 074[WR_BRAM_DATA]
 046                 NXT_LOOP: 
 046  0B708                    FETCH s7[CNTR1], 08[BT_CNT1]
 047  0B809                    FETCH s8[CNTR2], 09[BT_CNT2]
 048  11701                    ADD s7[CNTR1], 01
 049  13800                    ADDCY s8[CNTR2], 00
 04A  2F708                    STORE s7[CNTR1], 08[BT_CNT1]
 04B  2F809                    STORE s8[CNTR2], 09[BT_CNT2]
 04C  0BA06                    FETCH sA[ADDR1], 06[N_OF_BYTE1]
 04D  0BB07                    FETCH sB[ADDR2], 07[N_OF_BYTE2]
 04E  1CA70                    COMPARE sA[ADDR1], s7[CNTR1]
 04F  3603B                    JUMP NZ, 03B[TAKE_NXT_BYT]
 050  1CB80                    COMPARE sB[ADDR2], s8[CNTR2]
 051  3603B                    JUMP NZ, 03B[TAKE_NXT_BYT]
 052  25000                    RETURN 
 053               RD_DDR_RAM: 
 053  2D017                    OUTPUT s0[REG1], 17[DDR_ADDRESS_RESET_R]
 054  01000                    LOAD s0[REG1], 00
 055  2F008                    STORE s0[REG1], 08[BT_CNT1]
 056  2F009                    STORE s0[REG1], 09[BT_CNT2]
 057  0B004                    FETCH s0[REG1], 04[ST_ADD_1]
 058  2F00A                    STORE s0[REG1], 0A[BUFF_AD1]
 059  0B005                    FETCH s0[REG1], 05[ST_ADD_2]
 05A  2F00B                    STORE s0[REG1], 0B[BUFF_AD2]
 05B             SEND_NXT_BYT: 
 05B  0B202                    FETCH s2[DDATA], 02[DDR_BRAM]
 05C  1D244                    COMPARE s2[DDATA], 44["D"]
 05D  32062                    JUMP Z, 062[RD_DDR]
 05E  0B202                    FETCH s2[DDATA], 02[DDR_BRAM]
 05F  1D242                    COMPARE s2[DDATA], 42["B"]
 060  32064                    JUMP Z, 064[RD_BRAM]
 061  25000                    RETURN 
 062                   RD_DDR: 
 062  200BD                    CALL 0BD[READ_1_WORD_DDR]
 063  22067                    JUMP 067[NXT_LOOP1]
 064                  RD_BRAM: 
 064  20077                    CALL 077[INC_BRAM_ADDRESS]
 065  09205                    INPUT s2[DDATA], 05[BRAM_DATA_IN]
 066  20087                    CALL 087[send_one_bt_usb]
 067                NXT_LOOP1: 
 067  0B708                    FETCH s7[CNTR1], 08[BT_CNT1]
 068  0B809                    FETCH s8[CNTR2], 09[BT_CNT2]
 069  11701                    ADD s7[CNTR1], 01
 06A  13800                    ADDCY s8[CNTR2], 00
 06B  2F708                    STORE s7[CNTR1], 08[BT_CNT1]
 06C  2F809                    STORE s8[CNTR2], 09[BT_CNT2]
 06D  0BA06                    FETCH sA[ADDR1], 06[N_OF_BYTE1]
 06E  0BB07                    FETCH sB[ADDR2], 07[N_OF_BYTE2]
 06F  1CA70                    COMPARE sA[ADDR1], s7[CNTR1]
 070  3605B                    JUMP NZ, 05B[SEND_NXT_BYT]
 071  1CB80                    COMPARE sB[ADDR2], s8[CNTR2]
 072  3605B                    JUMP NZ, 05B[SEND_NXT_BYT]
 073  25000                    RETURN 
 074             WR_BRAM_DATA: 
 074  2D205                    OUTPUT s2[DDATA], 05[BRAM_DATA_OUT]
 075  20077                    CALL 077[INC_BRAM_ADDRESS]
 076  25000                    RETURN 
 077  0BA0A  INC_BRAM_ADDRESS: FETCH sA[ADDR1], 0A[BUFF_AD1]
 078  0BB0B                    FETCH sB[ADDR2], 0B[BUFF_AD2]
 079  11A01                    ADD sA[ADDR1], 01
 07A  13B00                    ADDCY sB[ADDR2], 00
 07B  2DA06                    OUTPUT sA[ADDR1], 06[BRAM_ADR_70]
 07C  2DB07                    OUTPUT sB[ADDR2], 07[BRAM_ADR_158]
 07D  2FA0A                    STORE sA[ADDR1], 0A[BUFF_AD1]
 07E  2FB0B                    STORE sB[ADDR2], 0B[BUFF_AD2]
 07F  25000                    RETURN 
 080           CHK_DT_PRESENT: 
 080  09002                    INPUT s0[REG1], 02[RX_DT_RDY]
 081  1D001                    COMPARE s0[REG1], 01[00000001'b]
 082  36080                    JUMP NZ, 080[CHK_DT_PRESENT]
 083  2D004                    OUTPUT s0[REG1], 04[RD_PULSE]
 084  09003                    INPUT s0[REG1], 03[RX_DATA]
 085  2D001                    OUTPUT s0[REG1], 01[LED]
 086  25000                    RETURN 
 087          send_one_bt_usb: 
 087               wr_rdy_chk: 
 087  09003                    INPUT s0[REG1], 03[usb_txe]
 088  0D001                    TEST s0[REG1], 01[00000001'b]
 089  36087                    JUMP NZ, 087[wr_rdy_chk]
 08A  01000                    LOAD s0[REG1], 00
 08B  2D00A                    OUTPUT s0[REG1], 0A[USB_RD_WR]
 08C  2D20B                    OUTPUT s2[DDATA], 0B[USB_DATA_OUT]
 08D  01000                    LOAD s0[REG1], 00
 08E  2D009                    OUTPUT s0[REG1], 09[usb_wr]
 08F  010FF                    LOAD s0[REG1], FF
 090  2D009                    OUTPUT s0[REG1], 09[usb_wr]
 091  200F8                    CALL 0F8[DELAY_107US]
 092  200F8                    CALL 0F8[DELAY_107US]
 093  010FF                    LOAD s0[REG1], FF
 094  2D00A                    OUTPUT s0[REG1], 0A[USB_RD_WR]
 095  25000                    RETURN 
 096         take_data_in_usb: 
 096  09004                    INPUT s0[REG1], 04[usb_rxf]
 097  0D001                    TEST s0[REG1], 01[00000001'b]
 098  36096                    JUMP NZ, 096[take_data_in_usb]
 099  010FF                    LOAD s0[REG1], FF
 09A  2D00A                    OUTPUT s0[REG1], 0A[USB_RD_WR]
 09B  2D00C                    OUTPUT s0[REG1], 0C[usb_rd]
 09C  09202                    INPUT s2[DDATA], 02[USB_DATA_IN]
 09D  25000                    RETURN 
 09E                LED_BLINK: 
 09E  19001               LP1: SUB s0[REG1], 01
 09F  016AA                    LOAD s6[DATA], AA
 0A0  2D601                    OUTPUT s6[DATA], 01[LED]
 0A1  20100                    CALL 100[DELAY_20MS]
 0A2  20100                    CALL 100[DELAY_20MS]
 0A3  01655                    LOAD s6[DATA], 55
 0A4  2D601                    OUTPUT s6[DATA], 01[LED]
 0A5  20100                    CALL 100[DELAY_20MS]
 0A6  20100                    CALL 100[DELAY_20MS]
 0A7  20100                    CALL 100[DELAY_20MS]
 0A8  20100                    CALL 100[DELAY_20MS]
 0A9  1D000                    COMPARE s0[REG1], 00
 0AA  3609E                    JUMP NZ, 09E[LP1]
 0AB  25000                    RETURN 
 0AC             DATA_OUT_DDR: 
 0AC  20096                    CALL 096[take_data_in_usb]
 0AD  2D20D                    OUTPUT s2[DDATA], 0D[DDR_DATA_W_31_24]
 0AE  20096                    CALL 096[take_data_in_usb]
 0AF  2D20E                    OUTPUT s2[DDATA], 0E[DDR_DATA_W_23_16]
 0B0  20096                    CALL 096[take_data_in_usb]
 0B1  2D20F                    OUTPUT s2[DDATA], 0F[DDR_DATA_W_15_8]
 0B2  20096                    CALL 096[take_data_in_usb]
 0B3  2D210                    OUTPUT s2[DDATA], 10[DDR_DATA_W_7_0]
 0B4  2D212                    OUTPUT s2[DDATA], 12[WR_EN_PLS]
 0B5  25000                    RETURN 
 0B6         WRITE_1_WORD_DDR: 
 0B6  200AC                    CALL 0AC[DATA_OUT_DDR]
 0B7  200AC                    CALL 0AC[DATA_OUT_DDR]
 0B8                           ;OUTPUT DDATA,WR_EN_PLS
 0B8  01200                    LOAD s2[DDATA], 00                        ; write cmd
 0B9  2D213                    OUTPUT s2[DDATA], 13[WR_RD_CMD]           ; write cmd
 0BA  2D211                    OUTPUT s2[DDATA], 11[CMD_WR_PLS]
 0BB  2D215                    OUTPUT s2[DDATA], 15[DDR_ADDRESS_INC_PLS]
 0BC  25000                    RETURN 
 0BD          READ_1_WORD_DDR: 
 0BD  01201                    LOAD s2[DDATA], 01                        ; READ cmd
 0BE  2D213                    OUTPUT s2[DDATA], 13[WR_RD_CMD]           ; READ cmd
 0BF  2D211                    OUTPUT s2[DDATA], 11[CMD_WR_PLS]
 0C0  0900C    WAIT_FOR_DATA1: INPUT s0[REG1], 0C[READ_EMPTY]
 0C1  1D001                    COMPARE s0[REG1], 01
 0C2  320C0                    JUMP Z, 0C0[WAIT_FOR_DATA1]
 0C3  200C7                    CALL 0C7[DATA_IN_DDR]
 0C4  200C7                    CALL 0C7[DATA_IN_DDR]
 0C5  2D215                    OUTPUT s2[DDATA], 15[DDR_ADDRESS_INC_PLS]
 0C6  25000                    RETURN 
 0C7              DATA_IN_DDR: 
 0C7  0900C     WAIT_FOR_DATA: INPUT s0[REG1], 0C[READ_EMPTY]
 0C8  1D001                    COMPARE s0[REG1], 01
 0C9  320C7                    JUMP Z, 0C7[WAIT_FOR_DATA]
 0CA                           ;CALL DELAY_1S
 0CA  09206                    INPUT s2[DDATA], 06[DDR_DATA_R_31_24]
 0CB  20087                    CALL 087[send_one_bt_usb]
 0CC  09207                    INPUT s2[DDATA], 07[DDR_DATA_R_23_16]
 0CD  20087                    CALL 087[send_one_bt_usb]
 0CE  09208                    INPUT s2[DDATA], 08[DDR_DATA_R_15_8]
 0CF  20087                    CALL 087[send_one_bt_usb]
 0D0  09209                    INPUT s2[DDATA], 09[DDR_DATA_R_7_0]
 0D1  20087                    CALL 087[send_one_bt_usb]
 0D2  2D216                    OUTPUT s2[DDATA], 16[RD_EN_PLS]
 0D3  25000                    RETURN 
 0D4              REG_CONTROL: 
 0D4  0B203                    FETCH s2[DDATA], 03[CMD_WR_RD]
 0D5  1D257                    COMPARE s2[DDATA], 57["W"]
 0D6  320DA                    JUMP Z, 0DA[W_USER_REG]
 0D7  1D252                    COMPARE s2[DDATA], 52["R"]
 0D8  320E6                    JUMP Z, 0E6[R_USER_REG]
 0D9  22016                    JUMP 016[CHECK_FRAME]
 0DA  0B205        W_USER_REG: FETCH s2[DDATA], 05[ST_ADD_2]
 0DB  2D219                    OUTPUT s2[DDATA], 19[USER_REGADDR_15_8]
 0DC  0B204                    FETCH s2[DDATA], 04[ST_ADD_1]
 0DD  2D21A                    OUTPUT s2[DDATA], 1A[USER_REGADDR_7_0]
 0DE  0B207                    FETCH s2[DDATA], 07[N_OF_BYTE2]           ;; NOT USED
 0DF  0B206                    FETCH s2[DDATA], 06[N_OF_BYTE1]
 0E0  2D21B                    OUTPUT s2[DDATA], 1B[USER_REGDATAOUT]
 0E1  012FF                    LOAD s2[DDATA], FF
 0E2  2D208                    OUTPUT s2[DDATA], 08[USER_REGWE]          ;; WRITE ENABLE PULSE
 0E3  01200                    LOAD s2[DDATA], 00
 0E4  2D208                    OUTPUT s2[DDATA], 08[USER_REGWE]          ;; WRITE ENABLE PULSE
 0E5  22016                    JUMP 016[CHECK_FRAME]
 0E6               R_USER_REG: 
 0E6  0B205                    FETCH s2[DDATA], 05[ST_ADD_2]
 0E7  2D219                    OUTPUT s2[DDATA], 19[USER_REGADDR_15_8]
 0E8  0B204                    FETCH s2[DDATA], 04[ST_ADD_1]
 0E9  2D21A                    OUTPUT s2[DDATA], 1A[USER_REGADDR_7_0]
 0EA  0B207                    FETCH s2[DDATA], 07[N_OF_BYTE2]           ;; NOT USED
 0EB  0B206                    FETCH s2[DDATA], 06[N_OF_BYTE1]           ;; NOT USED
 0EC  2D214                    OUTPUT s2[DDATA], 14[USER_REGRE]          ;; READ ENABLE PULSE
 0ED  01225                    LOAD s2[DDATA], 25["%"]
 0EE  20087                    CALL 087[send_one_bt_usb]
 0EF  0920D                    INPUT s2[DDATA], 0D[USER_REGDATAIN]
 0F0  20087                    CALL 087[send_one_bt_usb]
 0F1  01223                    LOAD s2[DDATA], 23["#"]
 0F2  20087                    CALL 087[send_one_bt_usb]
 0F3  22016                    JUMP 016[CHECK_FRAME]
 0F4                           ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ALL DELAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 0F4                           ;--
 0F4                           ;|1000000/416NS
 0F4                           ;|--------------------------===== CNT
 0F4                           ;|10
 0F4                           ;|--------
 0F4                           ; 10US IS 1000     (1000000/416 = 000018 HEX)   FOR 24MHZ
 0F4               DELAY_10US: 
 0F4  01F00                    LOAD sF, 00
 0F5  01E00                    LOAD sE, 00
 0F6  01D18                    LOAD sD, 18
 0F7  22108                    JUMP 108[SOFTWARE_DELAY]
 0F8                           ; 10US IS 1000     (1000000/416 = 000101 HEX)   FOR 24MHZ
 0F8              DELAY_107US: 
 0F8  01F00                    LOAD sF, 00
 0F9  01E01                    LOAD sE, 01
 0FA  01D01                    LOAD sD, 01
 0FB  22108                    JUMP 108[SOFTWARE_DELAY]
 0FC                           ; 1MS IS 1000     (1000/416 = 000963 HEX)   FOR 24MHZ
 0FC                DELAY_1MS: 
 0FC  01F00                    LOAD sF, 00
 0FD  01E09                    LOAD sE, 09
 0FE  01D63                    LOAD sD, 63
 0FF  22108                    JUMP 108[SOFTWARE_DELAY]
 100                           ;
 100                           ; 20MS IS 20,000  100NS  (20,000/416 = 00BBCD HEX)  FOR 24MHZ
 100  01F00        DELAY_20MS: LOAD sF, 00
 101  01E5D                    LOAD sE, 5D
 102  01DC9                    LOAD sD, C9
 103  22108                    JUMP 108[SOFTWARE_DELAY]
 104                           ;
 104                           ;
 104                           ; 1S IS 10,000,00 X 10NS      (1/416 = 24AE06 HEX)  FOR 24MHZ
 104  01F24          DELAY_1S: LOAD sF, 24
 105  01EAE                    LOAD sE, AE
 106  01D06                    LOAD sD, 06
 107  22108                    JUMP 108[SOFTWARE_DELAY]
 108                           ;
 108                           ; THE DELAY LOOP DECREMENTS [S2,S1,S0] UNTIL IT REACHES ZERO
 108                           ; EACH DECREMENT CYCLE IS 5 INSTRUCTIONS WHICH IS 10 CLOCK CYCLES (416NS AT 24MHZ)
 108  00DD0    SOFTWARE_DELAY: LOAD sD, sD                               ;PAD LOOP TO MAKE IT 10 CLOCK CYCLES (5 INSTRUCTIONS)
 109  19D01                    SUB sD, 01[1'd]
 10A  1BE00                    SUBCY sE, 00[0'd]
 10B  1BF00                    SUBCY sF, 00[0'd]
 10C  36108                    JUMP NZ, 108[SOFTWARE_DELAY]
 10D  25000                    RETURN 
 10E                           ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


All unused memory locations contain zero (equivalent to 'LOAD s0, s0')



List of PSM files that have been assembled

E:\KITCODE\sp6_lpddr_v1\pico_ddr_bram_ftdififo\pico_code\PICO_CODE.psm



List of defined constants

 CONSTANT name       Value        Source PSM File

 timestamp_hours     01'd         
 timestamp_minutes   28'd         
 timestamp_seconds   45'd         
 datestamp_year      20'd         
 datestamp_month     7'd          
 datestamp_day       30'd         
 NUL                 00           
 BEL                 07           
 BS                  08           
 HT                  09           
 LF                  0A           
 VT                  0B           
 CR                  0D           
 ESC                 1B           
 DEL                 7F           
 DCS                 90           
 ST                  9C           
 RX_DT_RDY           02           PICO_CODE.psm
 RX_DATA             03           PICO_CODE.psm
 LED                 01           PICO_CODE.psm
 TX_DATA             02           PICO_CODE.psm
 TX_STB              03           PICO_CODE.psm
 RD_PULSE            04           PICO_CODE.psm
 USB_DATA_OUT        0B           PICO_CODE.psm
 USB_DATA_IN         02           PICO_CODE.psm
 USB_RD_WR           0A           PICO_CODE.psm
 usb_rxf             04           PICO_CODE.psm
 usb_txe             03           PICO_CODE.psm
 usb_rd              0C           PICO_CODE.psm
 usb_wr              09           PICO_CODE.psm
 BRAM_DATA_IN        05           PICO_CODE.psm
 BRAM_W              08           PICO_CODE.psm
 BRAM_ADR_70         06           PICO_CODE.psm
 BRAM_ADR_158        07           PICO_CODE.psm
 BRAM_DATA_OUT       05           PICO_CODE.psm
 DDR_DATA_W_31_24    13'd         PICO_CODE.psm
 DDR_DATA_W_23_16    14'd         PICO_CODE.psm
 DDR_DATA_W_15_8     15'd         PICO_CODE.psm
 DDR_DATA_W_7_0      16'd         PICO_CODE.psm
 CMD_WR_PLS          17'd         PICO_CODE.psm
 WR_EN_PLS           18'd         PICO_CODE.psm
 WR_RD_CMD           19'd         PICO_CODE.psm
 DDR_DATA_R_31_24    06'd         PICO_CODE.psm
 DDR_DATA_R_23_16    07'd         PICO_CODE.psm
 DDR_DATA_R_15_8     08'd         PICO_CODE.psm
 DDR_DATA_R_7_0      09'd         PICO_CODE.psm
 READ_EMPTY          12'd         PICO_CODE.psm
 DDR_ADDRESS_INC_PLS 21'd         PICO_CODE.psm
 RD_EN_PLS           22'd         PICO_CODE.psm
 DDR_ADDRESS_RESET_W 23'd         PICO_CODE.psm
 DDR_ADDRESS_RESET_R 23'd         PICO_CODE.psm
 USER_REGADDR_15_8   25'd         PICO_CODE.psm
 USER_REGADDR_7_0    26'd         PICO_CODE.psm
 USER_REGDATAOUT     27'd         PICO_CODE.psm
 USER_REGWE          8'd          PICO_CODE.psm
 USER_REGRE          20'd         PICO_CODE.psm
 USER_REGDATAIN      13'd         PICO_CODE.psm
 USER_READ_START     4'd          PICO_CODE.psm
 USER_DDR_DATA1      1'd          PICO_CODE.psm
 USER_DDR_DATA2      0'd          PICO_CODE.psm
 USER_DDR_DATA3      15'd         PICO_CODE.psm
 USER_DDR_DATA4      14'd         PICO_CODE.psm
 USER_DDR_DATA5      17'd         PICO_CODE.psm
 USER_DDR_DATA6      18'd         PICO_CODE.psm
 USER_DDR_DATA7      19'd         PICO_CODE.psm
 USER_DDR_DATA8      21'd         PICO_CODE.psm
 UR_DATA_RAM         01           PICO_CODE.psm
 DDR_BRAM            02           PICO_CODE.psm
 CMD_WR_RD           03           PICO_CODE.psm
 ST_ADD_1            04           PICO_CODE.psm
 ST_ADD_2            05           PICO_CODE.psm
 N_OF_BYTE1          06           PICO_CODE.psm
 N_OF_BYTE2          07           PICO_CODE.psm
 BT_CNT1             08           PICO_CODE.psm
 BT_CNT2             09           PICO_CODE.psm
 BUFF_AD1            0A           PICO_CODE.psm
 BUFF_AD2            0B           PICO_CODE.psm
 DELL1               36           PICO_CODE.psm
 DELL2               37           PICO_CODE.psm
 DELL3               38           PICO_CODE.psm
 DELL4               39           PICO_CODE.psm
 DELL5               3A           PICO_CODE.psm
 DELL6               3B           PICO_CODE.psm
 RDID_9F             9F           PICO_CODE.psm
 WREN_06             06           PICO_CODE.psm
 PP_02               02           PICO_CODE.psm
 READ_03             03           PICO_CODE.psm
 RDSR_05             05           PICO_CODE.psm
 SE_D8               D8           PICO_CODE.psm
 WRSR_01             01           PICO_CODE.psm
 BE_C7               C7           PICO_CODE.psm
 DELAY_1US_CONSTANT  0B           PICO_CODE.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.70"        
 datestamp$        "30 Jul 2020"  
 timestamp$        "01:28:45"     



List of line labels

   Label              Addr  Source PSM File

   TEST_USER          001   PICO_CODE.psm
   CHECK_FRAME        016   PICO_CODE.psm
 * START              028   PICO_CODE.psm
   HJGF               032   PICO_CODE.psm
   WR_DDR_RAM         033   PICO_CODE.psm
   TAKE_NXT_BYT       03B   PICO_CODE.psm
   WR_DDR             042   PICO_CODE.psm
   WR_BRAM            044   PICO_CODE.psm
   NXT_LOOP           046   PICO_CODE.psm
   RD_DDR_RAM         053   PICO_CODE.psm
   SEND_NXT_BYT       05B   PICO_CODE.psm
   RD_DDR             062   PICO_CODE.psm
   RD_BRAM            064   PICO_CODE.psm
   NXT_LOOP1          067   PICO_CODE.psm
   WR_BRAM_DATA       074   PICO_CODE.psm
   INC_BRAM_ADDRESS   077   PICO_CODE.psm
   CHK_DT_PRESENT     080   PICO_CODE.psm
   send_one_bt_usb    087   PICO_CODE.psm
   wr_rdy_chk         087   PICO_CODE.psm
   take_data_in_usb   096   PICO_CODE.psm
 * LED_BLINK          09E   PICO_CODE.psm
   LP1                09E   PICO_CODE.psm
   DATA_OUT_DDR       0AC   PICO_CODE.psm
   WRITE_1_WORD_DDR   0B6   PICO_CODE.psm
   READ_1_WORD_DDR    0BD   PICO_CODE.psm
   WAIT_FOR_DATA1     0C0   PICO_CODE.psm
   DATA_IN_DDR        0C7   PICO_CODE.psm
   WAIT_FOR_DATA      0C7   PICO_CODE.psm
   REG_CONTROL        0D4   PICO_CODE.psm
   W_USER_REG         0DA   PICO_CODE.psm
   R_USER_REG         0E6   PICO_CODE.psm
 * DELAY_10US         0F4   PICO_CODE.psm
   DELAY_107US        0F8   PICO_CODE.psm
 * DELAY_1MS          0FC   PICO_CODE.psm
   DELAY_20MS         100   PICO_CODE.psm
 * DELAY_1S           104   PICO_CODE.psm
   SOFTWARE_DELAY     108   PICO_CODE.psm

      * Line label has not been referenced in any instructions.
        Hint - This may indicate unused code that could be
               removed to reduce the size of this program.



Instruction usage statistics

 Instruction    Instances

 LOAD             33
 STAR              -

 AND               -
 OR                -
 XOR               -

 ADD               3
 ADDCY             3
 SUB               2
 SUBCY             2

 TEST              2
 TESTCY            -
 COMPARE          19
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               -
 SR1               -
 SRX               -
 SRA               -
 RR                -

 REGBANK           -

 INPUT            21
 OUTPUT           38
 OUTPUTK           -

 STORE            29
 FETCH            29

 DISABLE           -
 ENABLE            -
 RETURNI           -

 JUMP             34
 JUMP@             -
 CALL             49
 CALL@             -
 RETURN           15
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
